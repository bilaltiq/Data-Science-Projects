#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(shape = "*", size = 5) +
geom_smooth(method = "loess", se = FALSE) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: shape-size
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(aes(shape=country)) +
geom_smooth(method = "loess", se = FALSE) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: country-shape
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(aes(shape=country)) +
geom_smooth(method = "loess", se = FALSE) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country",
shape = "Country")
#| label: country-lines
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE, lty = country) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: country-lines
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE, lty = "country") +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: country-lines
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE, aes(lty = "country")) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: country-lines
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: country-lines
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country"
lty = "Country")
#| label: country-lines
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country",
lty = "Country")
#| label: country-lm
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country",
lty = "Country")
#| label: country-aesloc
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(color = country) +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country",
lty = "Country")
#| label: country-aesloc
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(color = "Country") +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country",
lty = "Country")
#| label: country-aesloc
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(aes(color = country)) +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country",
lty = "Country")
#| label: country-aesloc
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(aes(color = country)) +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
lty = "Country")
#| label: country-aesloc
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
)) +
geom_point(aes(color = country)) +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
lty = "Country")
#| label: brewer
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_brewer()+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: brewer-options
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_brewer(type="div",palette=1)+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: brewer-schemes
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_brewer(type="qual",palette=1)+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: load-packages
#| warning: false
#| message: false
library(tidyverse)
library(kableExtra)
library(unvotes)
library(lubridate)
library(DT)
library(plotly)
# set black & white default plot theme
theme_set(theme_classic())
# improve digit and NA display
options(scipen = 1, knitr.kable.NA = '')
#| label: view-un_votes
# head shows the first 6 observations by default
# what does including the 4 do?
head(un_votes, 4)
#| label: view-un_roll_calls
head(un_roll_calls, 4)
#| label: view-un_roll_call_issues
head(un_roll_call_issues, 4)
#| label: prep-data
# ready data for plotting
unvotes_hr <- un_votes %>%
inner_join(un_roll_calls, by = "rcid") %>%
inner_join(un_roll_call_issues, by = "rcid") %>%
filter(issue == "Human rights",
country %in% c("Pakistan",
"Iceland",
"Fiji")) %>%
group_by(country, year = year(date), issue) %>%
summarize(votes = n(),
percent_yes = mean(vote == "yes")) %>%
filter(votes > 5)
#| label: original-plot
#| fig-width: 6.5
#| fig-height: 3
# plot the data
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
facet_wrap(~country)
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: side-by-side
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(shape = 2) +
geom_smooth(method = "loess", se = FALSE) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: shape2
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(shape = "*", size = 5) +
geom_smooth(method = "loess", se = FALSE) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: shape-size
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(aes(shape=country)) +
geom_smooth(method = "loess", se = FALSE) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: country-shape
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point(aes(shape=country)) +
geom_smooth(method = "loess", se = FALSE) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country",
shape = "Country")
#| label: country-lines
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country",
lty = "Country")
#| label: country-lm
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country",
lty = "Country")
#| label: country-aesloc
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
)) +
geom_point(aes(color = country)) +
geom_smooth(method = "loess", se = FALSE, aes(lty = country)) +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
lty = "Country")
#| label: brewer
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_brewer()+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: brewer-options
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_brewer(type="div",palette=1)+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: brewer-schemes
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_brewer(type="qual",palette=1)+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: manual-colors
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_manual(type="qual",palette=1)+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: manual-colors
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_manual(values=c("green","purple","blue"))+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: manual-hex
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_manual(values=c("#05a05a","#844185","#024a81"))+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: my-colors
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_manual(values=c("Turqoise","#844185","#024a81"))+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: my-colors
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE) +
scale_color_manual(values=c("#40E0D0","#844185","#024a81"))+
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: original-plot-2
#| fig-width: 6.5
#| fig-height: 3
# plot the data
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_line() +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: geom-area
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_area() +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: geom-step
#| fig-width: 6.5
#| fig-height: 3
ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_step() +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
#| label: interactive
#| fig-width: 6.5
#| fig-height: 3
# save the plot
g <- ggplot(data = unvotes_hr, mapping = aes(x = year, y = percent_yes,
color = country)) +
geom_point() +
labs(title = "Percentage of 'Yes' votes  on human rights issues",
subtitle = "UN General Assembly, 1946 to 2019",
y = "% Yes",
x = "Year",
color = "Country")
# run for interactivity
plotly::ggplotly(g)
